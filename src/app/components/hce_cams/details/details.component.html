<button mat-raised-button routerLink="/cameras">
  <mat-icon>arrow_back</mat-icon> Back
</button>


<section  class="margin-top-10">
  <div *ngIf="searching">
     <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <mat-card *ngIf="!searching && !(searchedCameras.length >= 1)">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-subtitle>Search for near by hahu-iot-cameras ..</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content style="display: flex; align-items: center; justify-content: center;" >
      <button mat-raised-button color="primary" style="transform: scale(1.3);" (click)="searchCamsLocal()">
        <mat-icon aria-label="Add user">search</mat-icon> 
        Search</button>
    </mat-card-content>
  </mat-card>


<section *ngFor="let camera of searchedCameras; let i=index">
  <mat-card class="example-card">
    <mat-card-content >
      <section style="display: flex;">
          <div style="display: flex; flex-direction: column; ">
            <mat-card-subtitle> <mat-icon aria-label="Add nae">dynamic_form</mat-icon>{{camera?.device_name.length > 12 ? camera.device_name.substr(0, 12) : camera.name }}</mat-card-subtitle>
            <mat-card-subtitle> <mat-icon aria-label="Add sder">router</mat-icon> {{camera?.device_ip || 'No ip cam'}}</mat-card-subtitle>
            <mat-card-subtitle> <mat-icon aria-label="Add usder">sensors</mat-icon> {{camera?.status || 'No ip cam'}}</mat-card-subtitle>
          </div>
        <div mat-card-lg-image class="example-header-image" >
          <img style="max-width: 200px; max-height: 150px; margin-left: 15px;" src="{{camera?.device_img_src}}" alt="Photo of camera snap">
        </div>
      </section>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button color="primary" (click)="registerCamera(camera)">Register</button>
      <button mat-button color="warn" (click)="removeCamera(i)">Remove</button>
    </mat-card-actions>
  </mat-card>
</section>



  <!-- 
    
      <mat-divider></mat-divider>
    <mat-card>
    <mat-card-title>{{ user.name }}</mat-card-title>
    <mat-card-subtitle>Username: {{ user.username }}</mat-card-subtitle>
    <mat-card-content>
      <dl class="dl-horizontal">
        <dt>Name</dt>
        <dd>{{ user.name }}</dd>
        <dt>Username</dt>
        <dd>{{ user.username }}</dd>
        <dt>Email</dt>
        <dd>{{ user.email }}</dd>
        <dt>Phone</dt>
        <dd>{{ user.phone }}</dd>
        <dt>Web</dt>
        <dd>{{ user.website }}</dd>
      </dl>
    </mat-card-content>
  </mat-card> -->
  <!-- <mat-card class="example-card">
    <mat-card-title-group>
      <mat-card-title>Shiba Inu</mat-card-title>
      <mat-card-subtitle>Small</mat-card-subtitle>
      <img mat-card-sm-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" >
    </mat-card-title-group>
    <mat-card-content>
      {{longText || 'Long text'}}
    </mat-card-content>
  </mat-card> -->
</section>

<!-- <section *ngIf="user">
    <mat-card>
        <mat-card-title>Company</mat-card-title>
        <mat-card-content>
          <dl class="dl-horizontal">
            <dt>Company name</dt>
            <dd>{{ user.company.name }}</dd>

            <dt>Additional data</dt>
            <dd>{{ user.company.catchPhrase }}</dd>

            <dt>Product search type
              </dt>
            <dd>{{ user.company.bs }}</dd>
          </dl>
        </mat-card-content>
      </mat-card>
</section> -->

<button mat-fab class="fixed-bottom-right" (click)="searchCamsLocal()">
  <mat-icon [ngClass]="{'spin-reverse':loading}" aria-label="Refresh">cached</mat-icon>
</button>
